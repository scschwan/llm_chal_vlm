<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대시보드 - 관리자</title>
    <link rel="stylesheet" href="/static/admin/css/dashboard.css">
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>📊 대시보드</h1>
            <p>시스템 현황 및 통계</p>
        </div>
        <div class="header-right">
            <a href="/admin.html" class="btn btn-primary">⚙️ 관리 메뉴</a>
            <a href="/upload.html" class="btn btn-primary">🔍 검사 시스템</a>
            <button class="btn btn-primary" onclick="logout()">로그아웃</button>
        </div>
    </div>
    
    <div class="container">
        <!-- 주요 통계 -->
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-icon blue">📦</div>
                <div class="stat-info">
                    <div class="stat-label">등록 제품</div>
                    <div class="stat-value" id="totalProducts">-</div>
                    <div class="stat-change positive">+0 (이번 주)</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon green">✅</div>
                <div class="stat-info">
                    <div class="stat-label">정상 이미지</div>
                    <div class="stat-value" id="totalNormalImages">-</div>
                    <div class="stat-change positive">+0 (이번 주)</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon orange">⚠️</div>
                <div class="stat-info">
                    <div class="stat-label">불량 이미지</div>
                    <div class="stat-value" id="totalDefectImages">-</div>
                    <div class="stat-change positive">+0 (이번 주)</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon red">🔍</div>
                <div class="stat-info">
                    <div class="stat-label">검사 횟수 (오늘)</div>
                    <div class="stat-value" id="todayInspections">-</div>
                    <div class="stat-change positive">+0% (전일 대비)</div>
                </div>
            </div>
        </div>
        
        <!-- 차트 -->
        <h2 class="section-title">📈 검사 추이</h2>
        <div class="charts-grid">
            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">일별 검사 건수</div>
                    <div class="chart-filter">
                        <button class="filter-btn active" data-period="7d">7일</button>
                        <button class="filter-btn" data-period="30d">30일</button>
                        <button class="filter-btn" data-period="90d">90일</button>
                    </div>
                </div>
                <div class="chart-placeholder" id="inspectionChart">
                    차트 데이터를 불러오는 중...
                </div>
            </div>
            
            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">제품별 불량 검출 비율</div>
                    <div class="chart-filter">
                        <button class="filter-btn active" data-period="today">오늘</button>
                        <button class="filter-btn" data-period="week">이번 주</button>
                        <button class="filter-btn" data-period="month">이번 달</button>
                    </div>
                </div>
                <div class="chart-placeholder" id="defectRateChart">
                    차트 데이터를 불러오는 중...
                </div>
            </div>
        </div>
        
        <!-- 최근 검사 내역 -->
        <h2 class="section-title">🕒 최근 검사 내역</h2>
        <div class="table-card">
            <div class="table-header">
                <div class="table-title">최근 20건</div>
                <div class="search-box">
                    <input type="text" placeholder="제품명, 작업자 검색" id="searchInput">
                </div>
            </div>
            
            <div id="recentInspections">
                <div class="loading">
                    <div class="spinner"></div>
                    데이터를 불러오는 중...
                </div>
            </div>
        </div>
        
        <!-- 제품별 통계 -->
        <h2 class="section-title">📦 제품별 통계</h2>
        <div class="table-card">
            <div class="table-header">
                <div class="table-title">제품 목록</div>
            </div>
            
            <div id="productStats">
                <div class="loading">
                    <div class="spinner"></div>
                    데이터를 불러오는 중...
                </div>
            </div>
        </div>
    </div>
    
    <script src="/static/admin/js/dashboard.js"></script>
</body>
</html>